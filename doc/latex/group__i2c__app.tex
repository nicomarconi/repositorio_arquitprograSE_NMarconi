\hypertarget{group__i2c__app}{}\doxysection{I2c\+\_\+app}
\label{group__i2c__app}\index{I2c\_app@{I2c\_app}}
\doxysubsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \mbox{\hyperlink{i2c__app_8h}{i2c\+\_\+app.\+h}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__i2c__app_gadbeb61fe3c40b09ee1b6de91f21cb6ae}{i2c\+\_\+master\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em The {\bfseries{\mbox{\hyperlink{group__i2c__app_gadbeb61fe3c40b09ee1b6de91f21cb6ae}{i2c\+\_\+master\+\_\+init()}}}} function will initialise the I2C protocol in the master mode, doing the folllowing steps\+: \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__i2c__app_ga44211242a6b4b7420d5159fbbdef27cf}{i2c\+\_\+param\+\_\+config}} (i2c\+\_\+port\+\_\+t i2c\+\_\+master\+\_\+port, const i2c\+\_\+config\+\_\+t $\ast$conf)
\begin{DoxyCompactList}\small\item\em The i2c\+\_\+param\+\_\+config function will write the parameters that were set. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__i2c__app_ga9caa9285f1241dbb8240be98f10b0f1b}{i2c\+\_\+driver\+\_\+install}} (i2c\+\_\+port\+\_\+t i2c\+\_\+num, i2c\+\_\+mode\+\_\+t mode, size\+\_\+t slv\+\_\+rx\+\_\+buf\+\_\+len, size\+\_\+t slv\+\_\+tx\+\_\+buf\+\_\+len, int intr\+\_\+alloc\+\_\+flags)
\begin{DoxyCompactList}\small\item\em The i2c\+\_\+driver\+\_\+install function will install the driver. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__i2c__app_ga9caa9285f1241dbb8240be98f10b0f1b}\label{group__i2c__app_ga9caa9285f1241dbb8240be98f10b0f1b}} 
\index{I2c\_app@{I2c\_app}!i2c\_driver\_install@{i2c\_driver\_install}}
\index{i2c\_driver\_install@{i2c\_driver\_install}!I2c\_app@{I2c\_app}}
\doxysubsubsection{\texorpdfstring{i2c\_driver\_install()}{i2c\_driver\_install()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t i2c\+\_\+driver\+\_\+install (\begin{DoxyParamCaption}\item[{i2c\+\_\+port\+\_\+t}]{i2c\+\_\+num,  }\item[{i2c\+\_\+mode\+\_\+t}]{mode,  }\item[{size\+\_\+t}]{slv\+\_\+rx\+\_\+buf\+\_\+len,  }\item[{size\+\_\+t}]{slv\+\_\+tx\+\_\+buf\+\_\+len,  }\item[{int}]{intr\+\_\+alloc\+\_\+flags }\end{DoxyParamCaption})}



The i2c\+\_\+driver\+\_\+install function will install the driver. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em i2c\+\_\+num} & is the I2C instance we are using, I2\+C\+\_\+\+NUM\+\_\+0 \\
\hline
\mbox{\texttt{ in}}  & {\em mode} & the I2C mode, which is master in this case. \\
\hline
\mbox{\texttt{ in}}  & {\em slv\+\_\+rx\+\_\+buf\+\_\+len} & the size of the RX and TX buffers. \\
\hline
\mbox{\texttt{ in}}  & {\em slv\+\_\+tx\+\_\+buf\+\_\+len} & the buffers are only needed if the ESP32 is being used in the slave mode. Since we are using it as a master, we will keep these buffers as 0. \\
\hline
\mbox{\texttt{ in}}  & {\em intr\+\_\+alloc\+\_\+flags} & is to set the interrupt flag for the I2C. We will keep it as 0 too, since we are not using any interrupts \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
void i2c\+\_\+driver\+\_\+install(I2\+C\+\_\+\+NUM\+\_\+0, conf.\+mode, 0, 0, 0); 
\end{DoxyNote}
\mbox{\Hypertarget{group__i2c__app_gadbeb61fe3c40b09ee1b6de91f21cb6ae}\label{group__i2c__app_gadbeb61fe3c40b09ee1b6de91f21cb6ae}} 
\index{I2c\_app@{I2c\_app}!i2c\_master\_init@{i2c\_master\_init}}
\index{i2c\_master\_init@{i2c\_master\_init}!I2c\_app@{I2c\_app}}
\doxysubsubsection{\texorpdfstring{i2c\_master\_init()}{i2c\_master\_init()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t i2c\+\_\+master\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



The {\bfseries{\mbox{\hyperlink{group__i2c__app_gadbeb61fe3c40b09ee1b6de91f21cb6ae}{i2c\+\_\+master\+\_\+init()}}}} function will initialise the I2C protocol in the master mode, doing the folllowing steps\+: 


\begin{DoxyItemize}
\item {\bfseries{1ยบ) Configuration\+:}} will set the initialization parameters of the structure {\bfseries{i2c\+\_\+config\+\_\+t conf\{\}}} (master or slave mode,GPIO pins for SDA and SCL, clock speed, etc.).
\item {\bfseries{2ยบ) Set the configuration\+:}} will write the values that were set in step 1ยบ. using the esp-\/idf function {\bfseries{\mbox{\hyperlink{group__i2c__app_ga44211242a6b4b7420d5159fbbdef27cf}{i2c\+\_\+param\+\_\+config()}}}}, icluded in the directory (esp/esp-\/idf/components/driver/i2c/include/driver/i2c.\+h).
\item {\bfseries{3ยบ) Install driver\+:}} will install the diver, using the esp-\/idf function {\bfseries{\mbox{\hyperlink{group__i2c__app_ga9caa9285f1241dbb8240be98f10b0f1b}{i2c\+\_\+driver\+\_\+install()}}}} ,included in the directory (esp/esp-\/idf/components/driver/i2c/include/driver/i2c.\+h). 
\end{DoxyItemize}

Definition at line 9 of file i2c\+\_\+app.\+c.

\mbox{\Hypertarget{group__i2c__app_ga44211242a6b4b7420d5159fbbdef27cf}\label{group__i2c__app_ga44211242a6b4b7420d5159fbbdef27cf}} 
\index{I2c\_app@{I2c\_app}!i2c\_param\_config@{i2c\_param\_config}}
\index{i2c\_param\_config@{i2c\_param\_config}!I2c\_app@{I2c\_app}}
\doxysubsubsection{\texorpdfstring{i2c\_param\_config()}{i2c\_param\_config()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t i2c\+\_\+param\+\_\+config (\begin{DoxyParamCaption}\item[{i2c\+\_\+port\+\_\+t}]{i2c\+\_\+master\+\_\+port,  }\item[{const i2c\+\_\+config\+\_\+t $\ast$}]{conf }\end{DoxyParamCaption})}



The i2c\+\_\+param\+\_\+config function will write the parameters that were set. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em i2c\+\_\+master\+\_\+port} & is the I2C instance we are using, I2\+C\+\_\+\+NUM\+\_\+0 \\
\hline
\mbox{\texttt{ in}}  & {\em conf} & pointer to I2C parameter settings \\
\hline
\end{DoxyParams}
